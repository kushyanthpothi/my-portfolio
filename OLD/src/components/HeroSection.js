'use client';

import { memo } from 'react';
import Image from 'next/image';
import { motion } from 'framer-motion';
import { SOCIAL_LINKS, USER_INFO } from '../constants/userData';
import { EXTERNAL_LINKS, IMAGES } from '../config';
import { themeClass as utilThemeClass } from '../utils/theme';

const MotionDiv = motion.div;

function HeroSection({
    currentTheme,
    isDarkMode,
    helloText,
    nameText,
    roleText,
    currentRole,
    showCursor,
    isTypingHello,
    isTypingName,
    isTypingRole,
    showRole,
    showSocialIcons,
    showButtons,
    showProfilePhoto,
    scrollToContact,
    triggerClickAnimation,
}) {
    const themeClass = (type) => utilThemeClass(type, currentTheme);

    return (
        <>
            {/* Skip Animation Hint */}
            {(isTypingHello || isTypingName || isTypingRole) && (
                <MotionDiv
                    initial={{ opacity: 0, y: -20 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ duration: 0.5 }}
                    className="absolute top-4 right-4 md:top-8 md:right-8 z-20"
                >
                    {/* Mobile: Tap to skip */}
                    <div className="flex md:hidden items-center gap-2 text-white/70 text-xs">
                        <span>Tap screen to skip animation</span>
                        <MotionDiv
                            animate={{
                                scale: [1, 0.85, 1],
                                opacity: [0.7, 1, 0.7]
                            }}
                            transition={{
                                duration: 1.5,
                                repeat: Infinity,
                                ease: "easeInOut"
                            }}
                            className="relative"
                        >
                            <svg
                                width="24"
                                height="24"
                                viewBox="0 0 512 512"
                                className="text-white/80 drop-shadow-lg"
                                fill="currentColor"
                            >
                                <path d="M230.469,513C224.211,509.881,217.887,507.784,212.763,503.394C203.538,495.491,198.182,485.655,196.624,473.573C194.826,459.630,195.478,445.631,195.885,431.698C196.099,424.377,192.858,420.983,187.168,417.975C179.249,413.790,171.145,409.909,163.713,404.833C152.822,397.395,145.538,386.533,137.134,376.767C125.561,363.319,114.158,349.717,103.006,335.920C96.038,327.300,88.136,319.452,82.419,309.776C71.359,291.059,75.328,262.537,96.198,248.890C114.318,237.043,139.445,239.412,154.918,254.757C158.053,257.865,160.862,261.358,164.726,263.943C166.206,261.515,165.617,259.137,165.620,256.892C165.663,218.226,165.593,179.560,165.706,140.895C165.726,134.111,166.608,127.394,168.688,120.819C174.183,103.455,193.030,90.430,210.094,90.424C229.549,90.416,243.622,98.374,252.886,115.040C255.596,119.916,257.398,125.352,257.371,131.193C257.301,146.526,257.333,161.859,257.371,177.192C257.375,178.984,256.957,180.851,258.149,183.122C263.279,181.432,268.717,181.682,274.149,181.635C283.101,181.556,291.231,184.206,298.357,189.420C301.159,191.470,302.793,191.628,305.624,189.486C322.486,176.734,350.356,179.417,364.672,194.454C369.046,199.048,372.602,204.250,374.653,210.331C375.538,212.953,376.610,213.669,379.736,212.925C403.444,207.287,426.137,217.645,434.968,241.010C436.750,245.725,437.429,250.542,437.414,255.624C437.298,295.622,437.031,335.625,437.523,375.618C437.695,389.591,432.396,400.912,423.911,410.976C412.970,423.952,404.543,437.429,407.221,455.502C408.043,461.047,407.271,466.818,407.381,472.482C407.436,475.362,406.889,478.059,406.039,480.788C401.503,495.350,392.190,505.427,378.004,511.025C377.095,511.384,376.280,511.983,375.211,512.735C326.979,513,278.958,513,230.469,513M335.688,213.498C323.861,212.958,319.937,215.590,317.963,227.288C316.271,237.314,317.312,247.562,317.429,257.700C317.576,270.499,304.037,275.757,294.100,270.815C287.290,267.428,285.848,260.785,285.703,253.923C285.512,244.929,285.681,235.928,285.639,226.930C285.607,219.869,280.625,213.981,274.269,213.378C265.491,212.543,259.839,216.593,258.330,224.758C256.313,235.666,257.403,246.677,257.456,257.626C257.518,270.384,244.312,275.790,234.180,270.870C226.937,267.352,225.698,260.239,225.685,253.047C225.612,213.888,225.662,174.729,225.634,135.570C225.629,128.878,220.259,122.974,213.849,122.407C205.923,121.706,199.975,125.616,198.485,132.767C197.744,136.324,197.288,139.918,197.294,143.619C197.376,197.109,197.302,250.598,197.408,304.088C197.422,310.986,194.953,316.252,188.685,318.948C182.039,321.806,175.718,320.798,170.383,315.441C158.977,303.989,147.540,292.567,136.069,281.180C134.189,279.314,132.189,277.524,130.043,275.977C124.342,271.866,116.274,272.484,111.851,277.212C107.576,281.782,106.923,290.823,110.980,295.743C120.142,306.852,129.563,317.746,138.834,328.765C148.421,340.159,157.996,351.564,167.502,363.025C174.523,371.489,181.672,379.522,192.117,384.279C200.065,387.900,207.891,392.145,214.682,397.830C222.240,404.158,227.190,412.046,227.308,422.198C227.469,436.027,227.263,449.860,227.383,463.689C227.468,473.584,231.569,480.023,238.697,481.486C242.246,482.214,245.836,482.721,249.543,482.710C284.535,482.605,319.529,482.648,354.522,482.649C355.522,482.649,356.523,482.685,357.521,482.640C368.917,482.125,376.643,477.269,375.753,464.373C375.203,456.413,375.406,448.374,375.714,440.387C376.102,430.351,378.195,420.846,383.671,412.016C388.331,404.502,394.204,397.982,399.161,390.755C402.229,386.283,405.712,382.026,405.699,376.023C405.614,336.364,405.674,296.705,405.634,257.046C405.624,246.473,395.247,240.163,385.602,244.595C379.067,247.599,378.366,253.668,377.420,259.533C376.281,266.599,370.902,272.141,364.476,272.350C353.907,272.695,348.359,269.004,346.654,260.510C344.566,250.112,345.705,239.595,345.796,229.152C345.861,221.687,343.078,216.748,335.688,213.498z" />
                            </svg>
                        </MotionDiv>
                    </div>

                    {/* Desktop: Press ESC */}
                    <div className="hidden md:flex items-center gap-2 text-white/70 text-sm">
                        <span>Press</span>
                        <kbd className="px-2 py-1 bg-white/10 border border-white/30 rounded shadow-lg font-mono text-white backdrop-blur-sm">
                            ESC
                        </kbd>
                        <span>to skip animation</span>
                    </div>
                </MotionDiv>
            )}

            {/* Hero content container with backdrop blur */}
            <div className="w-full px-4 sm:px-10 lg:px-12 relative z-10">
                <div className="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center">
                    <MotionDiv
                        initial={{ opacity: 0, y: 20 }}
                        animate={{ opacity: 1, y: 0 }}
                        transition={{ duration: 0.5 }}
                        className="text-center md:text-left order-2 md:order-1"
                    >
                        <h2 className={`text-lg font-medium ${themeClass('text')} mb-2`}>
                            {helloText}
                            {isTypingHello && showCursor && <span className="animate-pulse">|</span>}
                        </h2>
                        <h1 className="text-4xl md:text-6xl font-bold tracking-tight mb-4 text-white">
                            {nameText}
                            {isTypingName && showCursor && <span className="animate-pulse">|</span>}
                        </h1>
                        {showRole && (
                            <p className="text-xl md:text-2xl font-light text-white mb-8">
                                {isTypingRole ? roleText : currentRole}
                                {isTypingRole && showCursor && <span className="animate-pulse">|</span>}
                            </p>
                        )}
                        {showSocialIcons && (
                            <MotionDiv
                                initial={{ opacity: 0, y: 20 }}
                                animate={{ opacity: 1, y: 0 }}
                                transition={{ duration: 0.5 }}
                                className="flex justify-center md:justify-start space-x-4 mb-8"
                            >
                                {Object.entries(SOCIAL_LINKS).map(([platform, link]) => (
                                    <a
                                        key={platform}
                                        href={link}
                                        className={`transition-colors ${themeClass('text')}`}
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        aria-label={platform}
                                    >
                                        {platform === 'twitter' ? (
                                            <svg className="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                                            </svg>
                                        ) : (
                                            <i className={`fab fa-${platform} text-2xl`}></i>
                                        )}
                                    </a>
                                ))}

                                {/* ServiceNow Badge */}
                                <div className="group relative inline-block">
                                    <a
                                        href={EXTERNAL_LINKS.SERVICENOW_CERT}
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        className={`inline-block ${themeClass('text')}`}
                                    >
                                        <svg
                                            viewBox="0 0 1570 1403"
                                            width="34"
                                            height="54"
                                            className="w-7 h-6"
                                            fill="currentColor"
                                        >
                                            <path
                                                d="M0.999998,835.000000 C1.000000,803.645752 1.000000,772.291565 1.431128,740.438232 C2.241194,738.812256 2.875731,737.703857 2.959070,736.555420 C3.699081,726.358643 3.854409,716.093994 5.119089,705.966370 C7.408650,687.631409 9.954945,669.309387 13.121598,651.108582 C16.025726,634.416687 19.056086,617.663696 23.520016,601.345032 C30.730247,574.986938 38.141685,548.596741 47.362968,522.900085 C56.706970,496.861450 67.966728,471.478821 79.142624,446.141968 
	C85.004089,432.853485 92.081314,420.047455 99.328697,407.436890 
	C109.653969,389.470825 119.797340,371.302673 131.550919,354.278931 
	C147.333649,331.419312 164.185196,309.260620 181.337723,287.397125 
	C192.304001,273.418945 203.930344,259.799866 216.526794,247.295120 
	C237.463699,226.510605 258.947845,206.215988 281.104614,186.742569 
	C296.693909,173.041214 313.645752,160.865204 330.230499,148.327286 
	C355.682404,129.085876 382.919617,112.523430 410.845978,97.245079 
	C430.194641,86.659523 450.173859,77.052124 470.473480,68.424355 
	C494.569611,58.182991 519.039734,48.651260 543.854431,40.321434 
	C566.196716,32.821548 589.005310,26.378614 612.007812,21.267860 
	C636.833130,15.752095 662.052185,11.846758 687.233276,8.150272 
	C704.441284,5.624204 721.881470,4.687767 739.205933,2.923956 
	C740.192322,2.823533 741.071106,1.665693 742.000000,0.999992 
	C772.354248,1.000000 802.708435,1.000000 833.349487,1.408784 
	C838.417358,2.540688 843.181458,3.413590 847.982727,3.959267 
	C863.306213,5.700810 878.683655,7.022166 893.963928,9.074373 
	C908.364380,11.008427 922.863831,12.835763 936.973206,16.174643 
	C965.306824,22.879633 993.668884,29.702284 1021.538513,38.076038 
	C1065.458984,51.272427 1107.725220,68.876595 1148.098877,90.699554 
	C1168.770142,101.872856 1189.291260,113.427673 1209.167969,125.941170 
	C1233.800171,141.448410 1257.573364,158.295822 1279.756592,177.246338 
	C1293.766479,189.214645 1308.356201,200.589432 1321.571655,213.381577 
	C1339.454346,230.691360 1356.630615,248.774277 1373.420288,267.155548 
	C1385.703735,280.603607 1397.405151,294.665802 1408.402832,309.183929 
	C1420.617554,325.308716 1432.357544,341.870056 1443.177124,358.955078 
	C1456.268677,379.627808 1468.664307,400.782318 1480.434937,422.236389 
	C1488.758667,437.407959 1495.992676,453.228333 1502.899536,469.112823 
	C1511.080200,487.927338 1518.974365,506.909454 1525.947510,526.196777 
	C1539.705200,564.249573 1550.274414,603.224304 1557.049683,643.157837 
	C1560.219482,661.841248 1563.468140,680.530579 1565.844727,699.322998 
	C1567.599243,713.196960 1567.963623,727.245117 1569.079712,741.205078 
	C1569.157837,742.181641 1570.334229,743.070435 1571.000000,744.000000 
	C1571.000000,773.687561 1571.000000,803.375122 1570.588135,833.352844 
	C1569.784424,835.156494 1569.150146,836.652466 1569.039307,838.186218 
	C1568.291138,848.544739 1568.114624,858.966736 1566.873413,869.262146 
	C1564.956421,885.162598 1562.722656,901.047180 1559.915283,916.812378 
	C1556.431396,936.376526 1553.198853,956.070984 1548.097656,975.240845 
	C1540.907715,1002.260010 1533.077026,1029.196167 1523.707520,1055.522583 
	C1514.818726,1080.498291 1504.011230,1104.827759 1493.236572,1129.081177 
	C1487.142700,1142.798096 1479.743164,1155.974731 1472.339966,1169.060059 
	C1463.345825,1184.957642 1454.144653,1200.769531 1444.285767,1216.139038 
	C1428.301758,1241.057251 1411.113403,1265.156738 1391.809570,1287.654419 
	C1380.012695,1301.403320 1367.979370,1314.950928 1355.946289,1328.494873 
	C1352.695801,1332.153198 1349.107422,1335.518188 1345.591064,1338.932373 
	C1335.637695,1348.596313 1326.114136,1358.772217 1315.565674,1367.739990 
	C1292.155640,1387.641968 1264.810059,1398.783203 1234.251343,1402.081909 
	C1233.441406,1402.169312 1232.747925,1403.336426 1232.000000,1404.000000 
	C1221.979126,1404.000000 1211.958130,1404.000000 1201.662109,1403.600098 
	C1200.542114,1402.803589 1199.717285,1402.113403 1198.849243,1402.053711 
	C1181.486694,1400.862061 1165.397095,1395.234375 1149.634521,1388.284668 
	C1132.991211,1380.946655 1119.299561,1369.107178 1104.360840,1359.155029 
	C1077.832520,1341.481567 1050.624146,1324.840942 1021.296326,1312.232910 
	C999.929993,1303.047485 978.104309,1294.843750 956.173523,1287.077515 
	C919.849670,1274.214600 882.032471,1267.730957 843.927002,1263.174438 
	C827.406372,1261.198975 810.682556,1260.746826 794.031677,1260.110962 
	C785.955017,1259.802612 777.826477,1260.545044 769.734009,1261.024658 
	C754.426941,1261.932007 739.085999,1262.568726 723.839661,1264.113403 
	C709.529907,1265.563232 695.212585,1267.462769 681.096497,1270.189209 
	C654.227661,1275.378784 627.583923,1281.695190 601.990356,1291.593994 
	C582.243958,1299.231323 562.477783,1306.908813 543.190491,1315.610352 
	C529.217468,1321.914429 515.623230,1329.288940 502.560425,1337.324585 
	C483.525513,1349.034424 464.868774,1361.405640 446.510681,1374.156982 
	C424.465179,1389.469482 400.566895,1399.386963 373.765656,1402.074829 
	C372.789215,1402.172729 371.919495,1403.334229 371.000000,1404.000000 
	C359.645782,1404.000000 348.291534,1404.000000 336.694153,1403.623291 
	C335.610382,1402.834717 334.811066,1402.238159 333.922821,1402.039673 
	C324.707886,1399.979858 315.219727,1398.766968 306.303558,1395.818726 
	C282.817169,1388.052979 261.989838,1375.399170 244.561752,1357.860474 
	C226.927322,1340.114136 209.444656,1322.136108 193.072098,1303.240234 
	C177.428818,1285.186157 162.997086,1266.049072 148.576462,1246.976807 
	C126.858688,1218.253662 108.659988,1187.274780 91.877716,1155.474854 
	C76.924820,1127.141113 63.092056,1098.251099 52.568455,1067.945190 
	C44.029728,1043.355225 35.237053,1018.786682 28.288481,993.728516 
	C19.529846,962.142700 12.577224,930.052551 8.987444,897.373718 
	C6.836420,877.792358 5.014823,858.174866 2.929849,838.585876 
	C2.796843,837.336304 1.666419,836.192810 0.999998,835.000000 M858.624939,404.984100 C854.434448,404.299500 850.265625,403.409363 846.049744,402.966522 C829.556824,401.234314 813.079041,399.105988 796.536621,398.185455 
	C785.155273,397.552063 773.651123,398.299927 762.248108,399.093842 C748.488586,400.051758 734.576233,400.680481 721.095093,403.317780 C702.601135,406.935852 684.303772,411.801605 666.185486,417.042755 C637.057861,425.468506 609.887146,438.593506 583.943176,454.111633 C561.253052,467.683502 540.007385,483.328491 520.865662,501.670807 C515.401855,506.906464 509.957001,512.184387 504.829468,517.743652 C495.482178,527.877869 485.721710,537.730347 477.326019,548.619812 C464.475708,565.287048 452.969330,582.897583 442.699341,601.374390 C430.743042,622.885132 421.053467,645.336182 413.378601,668.582703 C405.965637,691.036072 400.251434,714.025024 397.978333,737.684509 C396.515717,752.908020 394.882629,768.136108 394.153717,783.401672 C393.673218,793.464966 394.355316,803.620300 395.069672,813.695251 C396.115753,828.448425 396.681702,843.337646 399.230743,857.856750 C402.518951,876.586243 406.654907,895.275757 412.042450,913.504761 C422.752319,949.742310 439.717896,983.149780 460.916687,1014.405334 C473.693909,1033.244263 487.997650,1050.831421 504.288727,1066.755493 C509.618469,1071.965210 514.888306,1077.283936 520.626587,1082.018188 C533.392090,1092.549927 546.071594,1103.246582 559.453308,1112.956543 C578.814819,1127.005493 599.817566,1138.350342 621.743774,1147.964722 C644.476318,1157.932861 667.971191,1165.416138 692.122131,1171.207275 C720.272095,1177.957275 748.876953,1179.894409 777.607971,1180.905762 C785.688416,1181.190186 793.818420,1179.905396 801.909302,1180.083618 C825.246948,1180.597412 848.164856,1177.518921 870.980164,1173.037231 C893.096252,1168.692871 914.857727,1162.858398 935.474548,1153.890381 C954.745911,1145.507690 973.570740,1135.945679 992.010864,1125.841919 C1017.159302,1112.062256 1039.762085,1094.497925 1059.957642,1074.229492 C1074.326050,1059.809082 1087.858154,1044.435547 1100.628174,1028.573120 C1115.815063,1009.708435 1128.262329,988.860962 1138.816162,967.073975 C1150.768311,942.400574 1160.020752,916.669861 1166.576660,889.974182 C1171.819336,868.626465 1175.277466,846.996216 1176.829346,825.133179 C1177.750244,812.160706 1176.880859,799.068298 1177.030029,786.032227 C1177.260742,765.864990 1175.901245,745.782043 1171.862061,726.063477 C1167.750244,705.991211 1163.469727,685.843323 1157.389404,666.311890 C1149.380371,640.584656 1138.023804,616.131775 1124.399048,592.780518 C1110.821777,569.510498 1095.197632,547.706909 1077.087524,527.824524 C1067.103149,516.863098 1056.425537,506.376343 1045.065674,496.863281 C1029.898804,484.162048 1014.507690,471.444244 997.849609,460.884033 C979.283142,449.113953 959.661072,438.714569 939.638428,429.609924 C914.107361,418.000549 887.190125,410.014862 858.624939,404.984100z"
                                            />
                                        </svg>
                                    </a>
                                    <span className="absolute left-1/2 -translate-x-1/2 -bottom-12 bg-gray-900 text-white text-xs px-3 py-1.5 rounded opacity-0 group-hover:opacity-100 transition-all duration-300 whitespace-nowrap transform scale-0 group-hover:scale-100 z-10 pointer-events-none">
                                        ServiceNow Certified Administrator
                                    </span>
                                </div>
                            </MotionDiv>
                        )}
                        {showButtons && (
                            <MotionDiv
                                initial={{ opacity: 0, y: 20 }}
                                animate={{ opacity: 1, y: 0 }}
                                transition={{ duration: 0.5 }}
                                className="flex justify-center md:justify-start space-y-4 md:space-y-0 md:space-x-4 flex-col md:flex-row"
                            >
                                <a
                                    onClick={scrollToContact}
                                    className={`inline-block px-8 py-3 ${themeClass('bg')} bg-opacity-10 hover:bg-opacity-20 backdrop-blur-sm ${themeClass('text')} font-medium rounded-md transition-all duration-300 transform hover:scale-105 cursor-pointer`}
                                >
                                    Get In Touch
                                </a>
                                <a
                                    href={EXTERNAL_LINKS.RESUME}
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    className={`inline-block px-8 py-3 ${themeClass('bg')} bg-opacity-10 hover:bg-opacity-20 backdrop-blur-sm ${themeClass('text')} font-medium rounded-md transition-all duration-300 transform hover:scale-105 cursor-pointer`}
                                >
                                    View My Resume
                                </a>
                            </MotionDiv>
                        )}
                    </MotionDiv>

                    {showProfilePhoto && (
                        <MotionDiv
                            initial={{ opacity: 0, scale: 0.9 }}
                            animate={{ opacity: 1, scale: 1 }}
                            transition={{ duration: 0.5 }}
                            className="flex justify-center order-1 md:order-2"
                        >
                            <div
                                className="relative w-48 h-48 md:w-80 md:h-80 cursor-pointer md:cursor-pointer"
                                onClick={triggerClickAnimation}
                            >
                                {/* Profile image */}
                                <div className={`relative w-full h-full rounded-full overflow-hidden border-8 border-white dark:border-gray-800 shadow-2xl z-10 ${themeClass('bg')}`}>
                                    <Image
                                        src={IMAGES.PROFILE_HERO}
                                        alt={USER_INFO.name}
                                        layout="fill"
                                        objectFit="cover"
                                        priority
                                    />
                                </div>
                            </div>
                        </MotionDiv>
                    )}
                </div>
            </div>
        </>
    );
}

export default memo(HeroSection);
